[04:38:03 INF] Starting Identity Server Microservice
[04:38:05 INF] Now listening on: https://[::]:443
[04:38:05 INF] Now listening on: http://[::]:80
[04:38:05 INF] Application started. Press Ctrl+C to shut down.
[04:38:05 INF] Hosting environment: Development
[04:38:05 INF] Content root path: /nsse-backend/
[04:38:08 INF] Request starting HTTP/1.1 GET http://nsse.identity.internal/identity/health - -
[04:38:08 INF] Executing endpoint 'Health checks'
[04:38:08 INF] Executed endpoint 'Health checks'
[04:38:08 INF] Request finished HTTP/1.1 GET http://nsse.identity.internal/identity/health - - - 200 - application/json 251.8611ms
[04:38:18 INF] Request starting HTTP/1.1 GET http://nsse.identity.internal/identity/health - -
[04:38:18 INF] Executing endpoint 'Health checks'
[04:38:18 INF] Executed endpoint 'Health checks'
[04:38:18 INF] Request finished HTTP/1.1 GET http://nsse.identity.internal/identity/health - - - 200 - application/json 1.8925ms
[04:38:29 INF] Request starting HTTP/1.1 GET http://nsse.identity.internal/identity/health - -
[04:38:29 INF] Executing endpoint 'Health checks'
[04:38:29 INF] Executed endpoint 'Health checks'
[04:38:29 INF] Request finished HTTP/1.1 GET http://nsse.identity.internal/identity/health - - - 200 - application/json 0.7236ms
[04:38:33 INF] Request starting HTTP/2 GET https://localhost/identity/health - -
[04:38:33 INF] Executing endpoint 'Health checks'
[04:38:33 INF] Executed endpoint 'Health checks'
[04:38:33 INF] Request finished HTTP/2 GET https://localhost/identity/health - - - 200 - application/json 6.8693ms
[04:38:39 INF] Request starting HTTP/1.1 GET http://nsse.identity.internal/identity/health - -
[04:38:39 INF] Executing endpoint 'Health checks'
[04:38:39 INF] Executed endpoint 'Health checks'
[04:38:39 INF] Request finished HTTP/1.1 GET http://nsse.identity.internal/identity/health - - - 200 - application/json 0.4814ms
[04:38:49 INF] Request starting HTTP/1.1 GET http://nsse.identity.internal/identity/health - -
[04:38:49 INF] Executing endpoint 'Health checks'
[04:38:49 INF] Executed endpoint 'Health checks'
[04:38:49 INF] Request finished HTTP/1.1 GET http://nsse.identity.internal/identity/health - - - 200 - application/json 0.6234ms
[04:38:59 INF] Request starting HTTP/1.1 GET http://nsse.identity.internal/identity/health - -
[04:38:59 INF] Executing endpoint 'Health checks'
[04:38:59 INF] Executed endpoint 'Health checks'
[04:38:59 INF] Request finished HTTP/1.1 GET http://nsse.identity.internal/identity/health - - - 200 - application/json 0.6017ms
[04:39:04 INF] Request starting HTTP/2 GET https://localhost/identity/health - -
[04:39:04 INF] Executing endpoint 'Health checks'
[04:39:04 INF] Executed endpoint 'Health checks'
[04:39:04 INF] Request finished HTTP/2 GET https://localhost/identity/health - - - 200 - application/json 0.8136ms
[04:39:09 INF] Request starting HTTP/1.1 GET http://nsse.identity.internal/identity/health - -
[04:39:09 INF] Executing endpoint 'Health checks'
[04:39:09 INF] Executed endpoint 'Health checks'
[04:39:09 INF] Request finished HTTP/1.1 GET http://nsse.identity.internal/identity/health - - - 200 - application/json 1.4687ms
[04:39:19 INF] Request starting HTTP/1.1 GET http://nsse.identity.internal/identity/health - -
[04:39:19 INF] Executing endpoint 'Health checks'
[04:39:19 INF] Executed endpoint 'Health checks'
[04:39:19 INF] Request finished HTTP/1.1 GET http://nsse.identity.internal/identity/health - - - 200 - application/json 0.7037ms
[04:39:29 INF] Request starting HTTP/1.1 GET http://nsse.identity.internal/identity/health - -
[04:39:29 INF] Executing endpoint 'Health checks'
[04:39:29 INF] Executed endpoint 'Health checks'
[04:39:29 INF] Request finished HTTP/1.1 GET http://nsse.identity.internal/identity/health - - - 200 - application/json 0.5480ms
[04:39:34 INF] Request starting HTTP/2 GET https://localhost/identity/health - -
[04:39:34 INF] Executing endpoint 'Health checks'
[04:39:34 INF] Executed endpoint 'Health checks'
[04:39:34 INF] Request finished HTTP/2 GET https://localhost/identity/health - - - 200 - application/json 0.7078ms
[04:39:39 INF] Request starting HTTP/1.1 GET http://nsse.identity.internal/identity/health - -
[04:39:39 INF] Executing endpoint 'Health checks'
[04:39:39 INF] Executed endpoint 'Health checks'
[04:39:39 INF] Request finished HTTP/1.1 GET http://nsse.identity.internal/identity/health - - - 200 - application/json 0.4887ms
[04:39:49 INF] Request starting HTTP/1.1 GET http://nsse.identity.internal/identity/health - -
[04:39:49 INF] Executing endpoint 'Health checks'
[04:39:49 INF] Executed endpoint 'Health checks'
[04:39:49 INF] Request finished HTTP/1.1 GET http://nsse.identity.internal/identity/health - - - 200 - application/json 0.4202ms
[04:39:59 INF] Request starting HTTP/1.1 GET http://nsse.identity.internal/identity/health - -
[04:39:59 INF] Executing endpoint 'Health checks'
[04:39:59 INF] Executed endpoint 'Health checks'
[04:39:59 INF] Request finished HTTP/1.1 GET http://nsse.identity.internal/identity/health - - - 200 - application/json 0.5939ms
[04:40:04 INF] Request starting HTTP/2 GET https://localhost/identity/health - -
[04:40:04 INF] Executing endpoint 'Health checks'
[04:40:04 INF] Executed endpoint 'Health checks'
[04:40:04 INF] Request finished HTTP/2 GET https://localhost/identity/health - - - 200 - application/json 0.7779ms
[04:40:09 INF] Request starting HTTP/1.1 GET http://nsse.identity.internal/identity/health - -
[04:40:09 INF] Executing endpoint 'Health checks'
[04:40:09 INF] Executed endpoint 'Health checks'
[04:40:09 INF] Request finished HTTP/1.1 GET http://nsse.identity.internal/identity/health - - - 200 - application/json 0.5262ms
[04:40:19 INF] Request starting HTTP/1.1 GET http://nsse.identity.internal/identity/health - -
[04:40:19 INF] Executing endpoint 'Health checks'
[04:40:19 INF] Executed endpoint 'Health checks'
[04:40:19 INF] Request finished HTTP/1.1 GET http://nsse.identity.internal/identity/health - - - 200 - application/json 0.3949ms
[04:40:29 INF] Request starting HTTP/1.1 GET http://nsse.identity.internal/identity/health - -
[04:40:29 INF] Executing endpoint 'Health checks'
[04:40:29 INF] Executed endpoint 'Health checks'
[04:40:29 INF] Request finished HTTP/1.1 GET http://nsse.identity.internal/identity/health - - - 200 - application/json 0.4456ms
[04:40:34 INF] Request starting HTTP/2 GET https://localhost/identity/health - -
[04:40:34 INF] Executing endpoint 'Health checks'
[04:40:34 INF] Executed endpoint 'Health checks'
[04:40:34 INF] Request finished HTTP/2 GET https://localhost/identity/health - - - 200 - application/json 0.6039ms
[04:40:39 INF] Request starting HTTP/1.1 GET http://nsse.identity.internal/identity/health - -
[04:40:39 INF] Executing endpoint 'Health checks'
[04:40:39 INF] Executed endpoint 'Health checks'
[04:40:39 INF] Request finished HTTP/1.1 GET http://nsse.identity.internal/identity/health - - - 200 - application/json 0.7001ms
[04:40:49 INF] Request starting HTTP/1.1 GET http://nsse.identity.internal/identity/health - -
[04:40:49 INF] Executing endpoint 'Health checks'
[04:40:49 INF] Executed endpoint 'Health checks'
[04:40:49 INF] Request finished HTTP/1.1 GET http://nsse.identity.internal/identity/health - - - 200 - application/json 0.6546ms
[04:40:58 INF] Request starting HTTP/1.0 POST https://devopsnanuvem.internal/identity/api/auth application/json 65
[04:40:58 INF] Executing endpoint 'NotSoSimpleEcommerce.IdentityServer.Controllers.AuthController.AuthenticateAsync (NotSoSimpleEcommerce.IdentityServer)'
[04:40:58 INF] Route matched with {action = "Authenticate", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AuthenticateAsync(Microsoft.Extensions.Configuration.IConfiguration, NotSoSimpleEcommerce.IdentityServer.Domain.Services.Contracts.IUserService, NotSoSimpleEcommerce.Shared.InOut.Requests.AuthRequest) on controller NotSoSimpleEcommerce.IdentityServer.Controllers.AuthController (NotSoSimpleEcommerce.IdentityServer).
[04:40:59 INF] Executed action NotSoSimpleEcommerce.IdentityServer.Controllers.AuthController.AuthenticateAsync (NotSoSimpleEcommerce.IdentityServer) in 1028.9802ms
[04:40:59 INF] Executed endpoint 'NotSoSimpleEcommerce.IdentityServer.Controllers.AuthController.AuthenticateAsync (NotSoSimpleEcommerce.IdentityServer)'
[04:40:59 ERR] [Exception]: Autofac.Core.DependencyResolutionException: An exception was thrown while activating NotSoSimpleEcommerce.IdentityServer.Domain.Services.Implementations.UserService -> NotSoSimpleEcommerce.Repositories.Implementations.ReadEntityRepository`1[[NotSoSimpleEcommerce.IdentityServer.Domain.Models.UserEntity, NotSoSimpleEcommerce.IdentityServer.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]] -> Î»:NotSoSimpleEcommerce.IdentityServer.Domain.Repositories.Contexts.IdentityServerContext.
 ---> Npgsql.NpgsqlException (0x80004005): Failed to connect to 172.18.0.6:5432
 ---> System.Net.Sockets.SocketException (111): Connection refused
   at Npgsql.Internal.NpgsqlConnector.Connect(NpgsqlTimeout timeout)
   at Npgsql.Internal.NpgsqlConnector.Connect(NpgsqlTimeout timeout)
   at Npgsql.Internal.NpgsqlConnector.RawOpen(SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken, Boolean isFirstAttempt)
   at Npgsql.Internal.NpgsqlConnector.<Open>g__OpenCore|215_1(NpgsqlConnector conn, SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken, Boolean isFirstAttempt)
   at Npgsql.Internal.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.UnpooledDataSource.Get(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.<Open>g__OpenAsync|45_0(Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.Open()
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenDbConnection(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternal(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.Open(Boolean errorsExpected)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlDatabaseCreator.Exists(Boolean async, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlDatabaseCreator.Exists(Boolean async, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlDatabaseCreator.Exists()
   at Microsoft.EntityFrameworkCore.Migrations.HistoryRepository.Exists()
   at Microsoft.EntityFrameworkCore.Migrations.Internal.Migrator.Migrate(String targetMigration)
   at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.Migrate(DatabaseFacade databaseFacade)
   at NotSoSimpleEcommerce.IdentityServer.Modules.InfrastructureModule.<Load>b__2_0(IComponentContext _) in /nsse-backend/src/services/NotSoSimpleEcommerce.IdentityServer/Modules/InfrastructureModule.cs:line 26
   at Autofac.RegistrationExtensions.<>c__DisplayClass41_0`1.<Register>b__0(IComponentContext c, IEnumerable`1 p)
   at Autofac.Builder.RegistrationBuilder.<>c__DisplayClass0_0`1.<ForDelegate>b__0(IComponentContext c, IEnumerable`1 p)
   at Autofac.Core.Activators.Delegate.DelegateActivator.ActivateInstance(IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Activators.Delegate.DelegateActivator.<ConfigurePipeline>b__2_0(ResolveRequestContext ctxt, Action`1 next)
   at Autofac.Core.Resolving.Middleware.DisposalTrackingMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Middleware.ActivatorErrorHandlingMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   --- End of inner exception stack trace ---
   at Autofac.Core.Resolving.Middleware.ActivatorErrorHandlingMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Middleware.SharingMiddleware.<>c__DisplayClass5_0.<Execute>b__0()
   at Autofac.Core.Lifetime.LifetimeScope.CreateSharedInstance(Guid id, Func`1 creator)
   at Autofac.Core.Lifetime.LifetimeScope.CreateSharedInstance(Guid primaryId, Nullable`1 qualifyingId, Func`1 creator)
   at Autofac.Core.Resolving.Middleware.SharingMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Middleware.CircularDependencyDetectorMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.ResolveOperation.GetOrCreateInstance(ISharingLifetimeScope currentOperationScope, ResolveRequest request)
   at Autofac.Core.Resolving.ResolveOperation.ExecuteOperation(ResolveRequest request)
   at Autofac.ResolutionExtensions.TryResolveService(IComponentContext context, Service service, IEnumerable`1 parameters, Object& instance)
   at Autofac.ResolutionExtensions.ResolveService(IComponentContext context, Service service, IEnumerable`1 parameters)
   at Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinder.BindModelAsync(ModelBindingContext bindingContext)
   at Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder.BindModelAsync(ActionContext actionContext, IModelBinder modelBinder, IValueProvider valueProvider, ParameterDescriptor parameter, ModelMetadata metadata, Object value, Object container)
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerBinderDelegateProvider.<>c__DisplayClass0_0.<<CreateBinderDelegate>g__Bind|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at NotSoSimpleEcommerce.IdentityServer.Middlewares.GlobalErrorHandlerMiddleware.InvokeAsync(HttpContext context, RequestDelegate next) in /nsse-backend/src/services/NotSoSimpleEcommerce.IdentityServer/Middlewares/GlobalErrorHandlerMiddleware.cs:line 22
[04:40:59 INF] Request starting HTTP/1.0 POST https://devopsnanuvem.internal/identity/api/auth application/json 65
[04:40:59 INF] Executing endpoint 'NotSoSimpleEcommerce.IdentityServer.Controllers.AuthController.AuthenticateAsync (NotSoSimpleEcommerce.IdentityServer)'
[04:40:59 INF] Route matched with {action = "Authenticate", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AuthenticateAsync(Microsoft.Extensions.Configuration.IConfiguration, NotSoSimpleEcommerce.IdentityServer.Domain.Services.Contracts.IUserService, NotSoSimpleEcommerce.Shared.InOut.Requests.AuthRequest) on controller NotSoSimpleEcommerce.IdentityServer.Controllers.AuthController (NotSoSimpleEcommerce.IdentityServer).
[04:40:59 INF] Executed action NotSoSimpleEcommerce.IdentityServer.Controllers.AuthController.AuthenticateAsync (NotSoSimpleEcommerce.IdentityServer) in 16.1951ms
[04:40:59 INF] Executed endpoint 'NotSoSimpleEcommerce.IdentityServer.Controllers.AuthController.AuthenticateAsync (NotSoSimpleEcommerce.IdentityServer)'
[04:40:59 ERR] [Exception]: Autofac.Core.DependencyResolutionException: An exception was thrown while activating NotSoSimpleEcommerce.IdentityServer.Domain.Services.Implementations.UserService -> NotSoSimpleEcommerce.Repositories.Implementations.ReadEntityRepository`1[[NotSoSimpleEcommerce.IdentityServer.Domain.Models.UserEntity, NotSoSimpleEcommerce.IdentityServer.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]] -> Î»:NotSoSimpleEcommerce.IdentityServer.Domain.Repositories.Contexts.IdentityServerContext.
 ---> Npgsql.NpgsqlException (0x80004005): Failed to connect to 172.18.0.6:5432
 ---> System.Net.Sockets.SocketException (111): Connection refused
   at Npgsql.Internal.NpgsqlConnector.Connect(NpgsqlTimeout timeout)
   at Npgsql.Internal.NpgsqlConnector.Connect(NpgsqlTimeout timeout)
   at Npgsql.Internal.NpgsqlConnector.RawOpen(SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken, Boolean isFirstAttempt)
   at Npgsql.Internal.NpgsqlConnector.<Open>g__OpenCore|215_1(NpgsqlConnector conn, SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken, Boolean isFirstAttempt)
   at Npgsql.Internal.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.UnpooledDataSource.Get(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.<Open>g__OpenAsync|45_0(Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.Open()
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenDbConnection(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternal(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.Open(Boolean errorsExpected)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlDatabaseCreator.Exists(Boolean async, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlDatabaseCreator.Exists(Boolean async, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlDatabaseCreator.Exists()
   at Microsoft.EntityFrameworkCore.Migrations.HistoryRepository.Exists()
   at Microsoft.EntityFrameworkCore.Migrations.Internal.Migrator.Migrate(String targetMigration)
   at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.Migrate(DatabaseFacade databaseFacade)
   at NotSoSimpleEcommerce.IdentityServer.Modules.InfrastructureModule.<Load>b__2_0(IComponentContext _) in /nsse-backend/src/services/NotSoSimpleEcommerce.IdentityServer/Modules/InfrastructureModule.cs:line 26
   at Autofac.RegistrationExtensions.<>c__DisplayClass41_0`1.<Register>b__0(IComponentContext c, IEnumerable`1 p)
   at Autofac.Builder.RegistrationBuilder.<>c__DisplayClass0_0`1.<ForDelegate>b__0(IComponentContext c, IEnumerable`1 p)
   at Autofac.Core.Activators.Delegate.DelegateActivator.ActivateInstance(IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Activators.Delegate.DelegateActivator.<ConfigurePipeline>b__2_0(ResolveRequestContext ctxt, Action`1 next)
   at Autofac.Core.Resolving.Middleware.DisposalTrackingMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Middleware.ActivatorErrorHandlingMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   --- End of inner exception stack trace ---
   at Autofac.Core.Resolving.Middleware.ActivatorErrorHandlingMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Middleware.SharingMiddleware.<>c__DisplayClass5_0.<Execute>b__0()
   at Autofac.Core.Lifetime.LifetimeScope.CreateSharedInstance(Guid id, Func`1 creator)
   at Autofac.Core.Lifetime.LifetimeScope.CreateSharedInstance(Guid primaryId, Nullable`1 qualifyingId, Func`1 creator)
   at Autofac.Core.Resolving.Middleware.SharingMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Middleware.CircularDependencyDetectorMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.ResolveOperation.GetOrCreateInstance(ISharingLifetimeScope currentOperationScope, ResolveRequest request)
   at Autofac.Core.Resolving.ResolveOperation.ExecuteOperation(ResolveRequest request)
   at Autofac.ResolutionExtensions.TryResolveService(IComponentContext context, Service service, IEnumerable`1 parameters, Object& instance)
   at Autofac.ResolutionExtensions.ResolveService(IComponentContext context, Service service, IEnumerable`1 parameters)
   at Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinder.BindModelAsync(ModelBindingContext bindingContext)
   at Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder.BindModelAsync(ActionContext actionContext, IModelBinder modelBinder, IValueProvider valueProvider, ParameterDescriptor parameter, ModelMetadata metadata, Object value, Object container)
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerBinderDelegateProvider.<>c__DisplayClass0_0.<<CreateBinderDelegate>g__Bind|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at NotSoSimpleEcommerce.IdentityServer.Middlewares.GlobalErrorHandlerMiddleware.InvokeAsync(HttpContext context, RequestDelegate next) in /nsse-backend/src/services/NotSoSimpleEcommerce.IdentityServer/Middlewares/GlobalErrorHandlerMiddleware.cs:line 22
[04:40:59 INF] Request finished HTTP/1.0 POST https://devopsnanuvem.internal/identity/api/auth application/json 65 - 500 - application/json 99.8708ms
[04:40:59 INF] Request finished HTTP/1.0 POST https://devopsnanuvem.internal/identity/api/auth application/json 65 - 500 - application/json 1225.5138ms
[04:40:59 INF] Request starting HTTP/1.1 GET http://nsse.identity.internal/identity/health - -
[04:40:59 INF] Executing endpoint 'Health checks'
[04:40:59 INF] Executed endpoint 'Health checks'
[04:40:59 INF] Request finished HTTP/1.1 GET http://nsse.identity.internal/identity/health - - - 200 - application/json 0.4430ms
[04:41:00 INF] Request starting HTTP/1.0 POST https://devopsnanuvem.internal/identity/api/auth application/json 65
[04:41:00 INF] Executing endpoint 'NotSoSimpleEcommerce.IdentityServer.Controllers.AuthController.AuthenticateAsync (NotSoSimpleEcommerce.IdentityServer)'
[04:41:00 INF] Route matched with {action = "Authenticate", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AuthenticateAsync(Microsoft.Extensions.Configuration.IConfiguration, NotSoSimpleEcommerce.IdentityServer.Domain.Services.Contracts.IUserService, NotSoSimpleEcommerce.Shared.InOut.Requests.AuthRequest) on controller NotSoSimpleEcommerce.IdentityServer.Controllers.AuthController (NotSoSimpleEcommerce.IdentityServer).
[04:41:00 INF] Executed action NotSoSimpleEcommerce.IdentityServer.Controllers.AuthController.AuthenticateAsync (NotSoSimpleEcommerce.IdentityServer) in 75.4161ms
[04:41:00 INF] Executed endpoint 'NotSoSimpleEcommerce.IdentityServer.Controllers.AuthController.AuthenticateAsync (NotSoSimpleEcommerce.IdentityServer)'
[04:41:00 ERR] [Exception]: Autofac.Core.DependencyResolutionException: An exception was thrown while activating NotSoSimpleEcommerce.IdentityServer.Domain.Services.Implementations.UserService -> NotSoSimpleEcommerce.Repositories.Implementations.ReadEntityRepository`1[[NotSoSimpleEcommerce.IdentityServer.Domain.Models.UserEntity, NotSoSimpleEcommerce.IdentityServer.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]] -> Î»:NotSoSimpleEcommerce.IdentityServer.Domain.Repositories.Contexts.IdentityServerContext.
 ---> Npgsql.NpgsqlException (0x80004005): Failed to connect to 172.18.0.6:5432
 ---> System.Net.Sockets.SocketException (111): Connection refused
   at Npgsql.Internal.NpgsqlConnector.Connect(NpgsqlTimeout timeout)
   at Npgsql.Internal.NpgsqlConnector.Connect(NpgsqlTimeout timeout)
   at Npgsql.Internal.NpgsqlConnector.RawOpen(SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken, Boolean isFirstAttempt)
   at Npgsql.Internal.NpgsqlConnector.<Open>g__OpenCore|215_1(NpgsqlConnector conn, SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken, Boolean isFirstAttempt)
   at Npgsql.Internal.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.UnpooledDataSource.Get(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.<Open>g__OpenAsync|45_0(Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.Open()
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenDbConnection(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternal(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.Open(Boolean errorsExpected)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlDatabaseCreator.Exists(Boolean async, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlDatabaseCreator.Exists(Boolean async, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlDatabaseCreator.Exists()
   at Microsoft.EntityFrameworkCore.Migrations.HistoryRepository.Exists()
   at Microsoft.EntityFrameworkCore.Migrations.Internal.Migrator.Migrate(String targetMigration)
   at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.Migrate(DatabaseFacade databaseFacade)
   at NotSoSimpleEcommerce.IdentityServer.Modules.InfrastructureModule.<Load>b__2_0(IComponentContext _) in /nsse-backend/src/services/NotSoSimpleEcommerce.IdentityServer/Modules/InfrastructureModule.cs:line 26
   at Autofac.RegistrationExtensions.<>c__DisplayClass41_0`1.<Register>b__0(IComponentContext c, IEnumerable`1 p)
   at Autofac.Builder.RegistrationBuilder.<>c__DisplayClass0_0`1.<ForDelegate>b__0(IComponentContext c, IEnumerable`1 p)
   at Autofac.Core.Activators.Delegate.DelegateActivator.ActivateInstance(IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Activators.Delegate.DelegateActivator.<ConfigurePipeline>b__2_0(ResolveRequestContext ctxt, Action`1 next)
   at Autofac.Core.Resolving.Middleware.DisposalTrackingMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Middleware.ActivatorErrorHandlingMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   --- End of inner exception stack trace ---
   at Autofac.Core.Resolving.Middleware.ActivatorErrorHandlingMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Middleware.SharingMiddleware.<>c__DisplayClass5_0.<Execute>b__0()
   at Autofac.Core.Lifetime.LifetimeScope.CreateSharedInstance(Guid id, Func`1 creator)
   at Autofac.Core.Lifetime.LifetimeScope.CreateSharedInstance(Guid primaryId, Nullable`1 qualifyingId, Func`1 creator)
   at Autofac.Core.Resolving.Middleware.SharingMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Middleware.CircularDependencyDetectorMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.ResolveOperation.GetOrCreateInstance(ISharingLifetimeScope currentOperationScope, ResolveRequest request)
   at Autofac.Core.Resolving.ResolveOperation.ExecuteOperation(ResolveRequest request)
   at Autofac.ResolutionExtensions.TryResolveService(IComponentContext context, Service service, IEnumerable`1 parameters, Object& instance)
   at Autofac.ResolutionExtensions.ResolveService(IComponentContext context, Service service, IEnumerable`1 parameters)
   at Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinder.BindModelAsync(ModelBindingContext bindingContext)
   at Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder.BindModelAsync(ActionContext actionContext, IModelBinder modelBinder, IValueProvider valueProvider, ParameterDescriptor parameter, ModelMetadata metadata, Object value, Object container)
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerBinderDelegateProvider.<>c__DisplayClass0_0.<<CreateBinderDelegate>g__Bind|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at NotSoSimpleEcommerce.IdentityServer.Middlewares.GlobalErrorHandlerMiddleware.InvokeAsync(HttpContext context, RequestDelegate next) in /nsse-backend/src/services/NotSoSimpleEcommerce.IdentityServer/Middlewares/GlobalErrorHandlerMiddleware.cs:line 22
[04:41:00 INF] Request finished HTTP/1.0 POST https://devopsnanuvem.internal/identity/api/auth application/json 65 - 500 - application/json 77.9650ms
[04:41:01 INF] Request starting HTTP/1.0 POST https://devopsnanuvem.internal/identity/api/auth application/json 65
[04:41:01 INF] Executing endpoint 'NotSoSimpleEcommerce.IdentityServer.Controllers.AuthController.AuthenticateAsync (NotSoSimpleEcommerce.IdentityServer)'
[04:41:01 INF] Route matched with {action = "Authenticate", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AuthenticateAsync(Microsoft.Extensions.Configuration.IConfiguration, NotSoSimpleEcommerce.IdentityServer.Domain.Services.Contracts.IUserService, NotSoSimpleEcommerce.Shared.InOut.Requests.AuthRequest) on controller NotSoSimpleEcommerce.IdentityServer.Controllers.AuthController (NotSoSimpleEcommerce.IdentityServer).
[04:41:01 INF] Executed action NotSoSimpleEcommerce.IdentityServer.Controllers.AuthController.AuthenticateAsync (NotSoSimpleEcommerce.IdentityServer) in 5.4758ms
[04:41:01 INF] Executed endpoint 'NotSoSimpleEcommerce.IdentityServer.Controllers.AuthController.AuthenticateAsync (NotSoSimpleEcommerce.IdentityServer)'
[04:41:01 ERR] [Exception]: Autofac.Core.DependencyResolutionException: An exception was thrown while activating NotSoSimpleEcommerce.IdentityServer.Domain.Services.Implementations.UserService -> NotSoSimpleEcommerce.Repositories.Implementations.ReadEntityRepository`1[[NotSoSimpleEcommerce.IdentityServer.Domain.Models.UserEntity, NotSoSimpleEcommerce.IdentityServer.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]] -> Î»:NotSoSimpleEcommerce.IdentityServer.Domain.Repositories.Contexts.IdentityServerContext.
 ---> Npgsql.NpgsqlException (0x80004005): Failed to connect to 172.18.0.6:5432
 ---> System.Net.Sockets.SocketException (111): Connection refused
   at Npgsql.Internal.NpgsqlConnector.Connect(NpgsqlTimeout timeout)
   at Npgsql.Internal.NpgsqlConnector.Connect(NpgsqlTimeout timeout)
   at Npgsql.Internal.NpgsqlConnector.RawOpen(SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken, Boolean isFirstAttempt)
   at Npgsql.Internal.NpgsqlConnector.<Open>g__OpenCore|215_1(NpgsqlConnector conn, SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken, Boolean isFirstAttempt)
   at Npgsql.Internal.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.UnpooledDataSource.Get(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.<Open>g__OpenAsync|45_0(Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.Open()
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenDbConnection(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternal(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.Open(Boolean errorsExpected)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlDatabaseCreator.Exists(Boolean async, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlDatabaseCreator.Exists(Boolean async, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlDatabaseCreator.Exists()
   at Microsoft.EntityFrameworkCore.Migrations.HistoryRepository.Exists()
   at Microsoft.EntityFrameworkCore.Migrations.Internal.Migrator.Migrate(String targetMigration)
   at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.Migrate(DatabaseFacade databaseFacade)
   at NotSoSimpleEcommerce.IdentityServer.Modules.InfrastructureModule.<Load>b__2_0(IComponentContext _) in /nsse-backend/src/services/NotSoSimpleEcommerce.IdentityServer/Modules/InfrastructureModule.cs:line 26
   at Autofac.RegistrationExtensions.<>c__DisplayClass41_0`1.<Register>b__0(IComponentContext c, IEnumerable`1 p)
   at Autofac.Builder.RegistrationBuilder.<>c__DisplayClass0_0`1.<ForDelegate>b__0(IComponentContext c, IEnumerable`1 p)
   at Autofac.Core.Activators.Delegate.DelegateActivator.ActivateInstance(IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Activators.Delegate.DelegateActivator.<ConfigurePipeline>b__2_0(ResolveRequestContext ctxt, Action`1 next)
   at Autofac.Core.Resolving.Middleware.DisposalTrackingMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Middleware.ActivatorErrorHandlingMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   --- End of inner exception stack trace ---
   at Autofac.Core.Resolving.Middleware.ActivatorErrorHandlingMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Middleware.SharingMiddleware.<>c__DisplayClass5_0.<Execute>b__0()
   at Autofac.Core.Lifetime.LifetimeScope.CreateSharedInstance(Guid id, Func`1 creator)
   at Autofac.Core.Lifetime.LifetimeScope.CreateSharedInstance(Guid primaryId, Nullable`1 qualifyingId, Func`1 creator)
   at Autofac.Core.Resolving.Middleware.SharingMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Middleware.CircularDependencyDetectorMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.ResolveOperation.GetOrCreateInstance(ISharingLifetimeScope currentOperationScope, ResolveRequest request)
   at Autofac.Core.Resolving.ResolveOperation.ExecuteOperation(ResolveRequest request)
   at Autofac.ResolutionExtensions.TryResolveService(IComponentContext context, Service service, IEnumerable`1 parameters, Object& instance)
   at Autofac.ResolutionExtensions.ResolveService(IComponentContext context, Service service, IEnumerable`1 parameters)
   at Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinder.BindModelAsync(ModelBindingContext bindingContext)
   at Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder.BindModelAsync(ActionContext actionContext, IModelBinder modelBinder, IValueProvider valueProvider, ParameterDescriptor parameter, ModelMetadata metadata, Object value, Object container)
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerBinderDelegateProvider.<>c__DisplayClass0_0.<<CreateBinderDelegate>g__Bind|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at NotSoSimpleEcommerce.IdentityServer.Middlewares.GlobalErrorHandlerMiddleware.InvokeAsync(HttpContext context, RequestDelegate next) in /nsse-backend/src/services/NotSoSimpleEcommerce.IdentityServer/Middlewares/GlobalErrorHandlerMiddleware.cs:line 22
[04:41:01 INF] Request finished HTTP/1.0 POST https://devopsnanuvem.internal/identity/api/auth application/json 65 - 500 - application/json 9.9060ms
[04:41:02 INF] Request starting HTTP/1.0 POST https://devopsnanuvem.internal/identity/api/auth application/json 65
[04:41:02 INF] Executing endpoint 'NotSoSimpleEcommerce.IdentityServer.Controllers.AuthController.AuthenticateAsync (NotSoSimpleEcommerce.IdentityServer)'
[04:41:02 INF] Route matched with {action = "Authenticate", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AuthenticateAsync(Microsoft.Extensions.Configuration.IConfiguration, NotSoSimpleEcommerce.IdentityServer.Domain.Services.Contracts.IUserService, NotSoSimpleEcommerce.Shared.InOut.Requests.AuthRequest) on controller NotSoSimpleEcommerce.IdentityServer.Controllers.AuthController (NotSoSimpleEcommerce.IdentityServer).
[04:41:02 INF] Executed action NotSoSimpleEcommerce.IdentityServer.Controllers.AuthController.AuthenticateAsync (NotSoSimpleEcommerce.IdentityServer) in 4.5052ms
[04:41:02 INF] Executed endpoint 'NotSoSimpleEcommerce.IdentityServer.Controllers.AuthController.AuthenticateAsync (NotSoSimpleEcommerce.IdentityServer)'
[04:41:02 ERR] [Exception]: Autofac.Core.DependencyResolutionException: An exception was thrown while activating NotSoSimpleEcommerce.IdentityServer.Domain.Services.Implementations.UserService -> NotSoSimpleEcommerce.Repositories.Implementations.ReadEntityRepository`1[[NotSoSimpleEcommerce.IdentityServer.Domain.Models.UserEntity, NotSoSimpleEcommerce.IdentityServer.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]] -> Î»:NotSoSimpleEcommerce.IdentityServer.Domain.Repositories.Contexts.IdentityServerContext.
 ---> Npgsql.NpgsqlException (0x80004005): Failed to connect to 172.18.0.6:5432
 ---> System.Net.Sockets.SocketException (111): Connection refused
   at Npgsql.Internal.NpgsqlConnector.Connect(NpgsqlTimeout timeout)
   at Npgsql.Internal.NpgsqlConnector.Connect(NpgsqlTimeout timeout)
   at Npgsql.Internal.NpgsqlConnector.RawOpen(SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken, Boolean isFirstAttempt)
   at Npgsql.Internal.NpgsqlConnector.<Open>g__OpenCore|215_1(NpgsqlConnector conn, SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken, Boolean isFirstAttempt)
   at Npgsql.Internal.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.UnpooledDataSource.Get(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.<Open>g__OpenAsync|45_0(Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.Open()
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenDbConnection(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternal(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.Open(Boolean errorsExpected)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlDatabaseCreator.Exists(Boolean async, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlDatabaseCreator.Exists(Boolean async, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlDatabaseCreator.Exists()
   at Microsoft.EntityFrameworkCore.Migrations.HistoryRepository.Exists()
   at Microsoft.EntityFrameworkCore.Migrations.Internal.Migrator.Migrate(String targetMigration)
   at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.Migrate(DatabaseFacade databaseFacade)
   at NotSoSimpleEcommerce.IdentityServer.Modules.InfrastructureModule.<Load>b__2_0(IComponentContext _) in /nsse-backend/src/services/NotSoSimpleEcommerce.IdentityServer/Modules/InfrastructureModule.cs:line 26
   at Autofac.RegistrationExtensions.<>c__DisplayClass41_0`1.<Register>b__0(IComponentContext c, IEnumerable`1 p)
   at Autofac.Builder.RegistrationBuilder.<>c__DisplayClass0_0`1.<ForDelegate>b__0(IComponentContext c, IEnumerable`1 p)
   at Autofac.Core.Activators.Delegate.DelegateActivator.ActivateInstance(IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Activators.Delegate.DelegateActivator.<ConfigurePipeline>b__2_0(ResolveRequestContext ctxt, Action`1 next)
   at Autofac.Core.Resolving.Middleware.DisposalTrackingMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Middleware.ActivatorErrorHandlingMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   --- End of inner exception stack trace ---
   at Autofac.Core.Resolving.Middleware.ActivatorErrorHandlingMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Middleware.SharingMiddleware.<>c__DisplayClass5_0.<Execute>b__0()
   at Autofac.Core.Lifetime.LifetimeScope.CreateSharedInstance(Guid id, Func`1 creator)
   at Autofac.Core.Lifetime.LifetimeScope.CreateSharedInstance(Guid primaryId, Nullable`1 qualifyingId, Func`1 creator)
   at Autofac.Core.Resolving.Middleware.SharingMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Middleware.CircularDependencyDetectorMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.ResolveOperation.GetOrCreateInstance(ISharingLifetimeScope currentOperationScope, ResolveRequest request)
   at Autofac.Core.Resolving.ResolveOperation.ExecuteOperation(ResolveRequest request)
   at Autofac.ResolutionExtensions.TryResolveService(IComponentContext context, Service service, IEnumerable`1 parameters, Object& instance)
   at Autofac.ResolutionExtensions.ResolveService(IComponentContext context, Service service, IEnumerable`1 parameters)
   at Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinder.BindModelAsync(ModelBindingContext bindingContext)
   at Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder.BindModelAsync(ActionContext actionContext, IModelBinder modelBinder, IValueProvider valueProvider, ParameterDescriptor parameter, ModelMetadata metadata, Object value, Object container)
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerBinderDelegateProvider.<>c__DisplayClass0_0.<<CreateBinderDelegate>g__Bind|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at NotSoSimpleEcommerce.IdentityServer.Middlewares.GlobalErrorHandlerMiddleware.InvokeAsync(HttpContext context, RequestDelegate next) in /nsse-backend/src/services/NotSoSimpleEcommerce.IdentityServer/Middlewares/GlobalErrorHandlerMiddleware.cs:line 22
[04:41:02 INF] Request finished HTTP/1.0 POST https://devopsnanuvem.internal/identity/api/auth application/json 65 - 500 - application/json 9.0635ms
[04:41:04 INF] Request starting HTTP/2 GET https://localhost/identity/health - -
[04:41:04 INF] Executing endpoint 'Health checks'
[04:41:04 INF] Executed endpoint 'Health checks'
[04:41:04 INF] Request finished HTTP/2 GET https://localhost/identity/health - - - 200 - application/json 0.5828ms
[04:41:10 INF] Request starting HTTP/1.1 GET http://nsse.identity.internal/identity/health - -
[04:41:10 INF] Executing endpoint 'Health checks'
[04:41:10 INF] Executed endpoint 'Health checks'
[04:41:10 INF] Request finished HTTP/1.1 GET http://nsse.identity.internal/identity/health - - - 200 - application/json 0.6294ms
[04:41:20 INF] Request starting HTTP/1.1 GET http://nsse.identity.internal/identity/health - -
[04:41:20 INF] Executing endpoint 'Health checks'
[04:41:20 INF] Executed endpoint 'Health checks'
[04:41:20 INF] Request finished HTTP/1.1 GET http://nsse.identity.internal/identity/health - - - 200 - application/json 1.4469ms
[04:41:30 INF] Request starting HTTP/1.1 GET http://nsse.identity.internal/identity/health - -
[04:41:30 INF] Executing endpoint 'Health checks'
[04:41:30 INF] Executed endpoint 'Health checks'
[04:41:30 INF] Request finished HTTP/1.1 GET http://nsse.identity.internal/identity/health - - - 200 - application/json 0.8953ms
[04:41:34 INF] Request starting HTTP/2 GET https://localhost/identity/health - -
[04:41:34 INF] Executing endpoint 'Health checks'
[04:41:34 INF] Executed endpoint 'Health checks'
[04:41:34 INF] Request finished HTTP/2 GET https://localhost/identity/health - - - 200 - application/json 0.5047ms
